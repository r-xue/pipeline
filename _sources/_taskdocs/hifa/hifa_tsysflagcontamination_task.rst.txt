hifa_tsysflagcontamination
==========================

Task description
-----------------
This task flags all line contamination detected through an analysis of the
Tsys and bandpass caltables.

The general idea for the detection algorithm is to discern features which
appear in the Tsys calibration tables of the scans taken in the vicinity
of the source field in comparison with the Tsys calibration tables of the
scans taken toward the bandpass. The bandpass scan should be clean of
astrophysical line features.


Output:

    results -- The results object for the pipeline task is returned.

Parameter List 
--------------
.. list-table::
    :widths: 25 50
    :header-rows: 1
    :class: longtable

    * - parameter name
      - description
    * - vis
      - | List of input MeasurementSets (Not used).
    * - caltable
      - | List of input Tsys calibration tables.
        | Default: [] - Use the table currently stored in the pipeline context.
        | Example: caltable=['X132.ms.tsys.s2.tbl']
    * - filetemplate
      - | output file to which regions to flag will be written
    * - logpath
      - | output file to which heuristic log statements will be
        | written
    * - remove_n_extreme
      - | expert parameter for contamination heuristic
        | Default: 2
    * - relative_detection_factor
      - | expert parameter for contamination detection heuristic
        | Default: 0.005
    * - diagnostic_plots
      - | create diagnostic plots for the line contamination heuristic
        | Default: True
    * - continue_on_failure
      - | controls whether pipeline execution continues if a failure
        | occurs in the underlying contamination detection heuristic.
        | Default: True


Examples 
--------
1. Flag Tsys line contamination using currently recommended parameters:

>>> hifa_tsysflagcontamination()

2. Halt pipeline execution if a failure occurs in the underlying heuristic:

>>> hifa_tsysflagcontamination(continue_on_failure=False)
