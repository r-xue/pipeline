<%!
rsc_path=''
import os
import pipeline.infrastructure.renderer.htmlrenderer as hr
%>
<%inherit file="t2-4m_details-base.html"/>

<%block name="title">T<sub>sys</sub> Calibration</%block>

<script src="${self.attr.rsc_path}resources/js/pipeline.js"></script>

<script>
$(document).ready(function () {
    // add on-click handler to our thumbnails to launch FancyBox with the
    // relevant thumbnails
    $("ul.thumbnails li div a").click(function (evt) {
        evt.preventDefault();
        var target = this.href;
        UTILS.launchFancybox(target);
        return false;
    });
});
</script>

<h2>Plots</h2>
% for ms in summary_plots:
    <h4><a class="replace"
           href="${os.path.relpath(os.path.join(dirname, 'tsys_%s.html' % ms), pcontext.report_dir)}">${ms}</a>
    </h4>
    <ul class="thumbnails">
        % for plot in summary_plots[ms]:
            <li class="span3">
                <div class="thumbnail">
                    <a href="${os.path.relpath(plot.abspath, pcontext.report_dir)}"
                        class="fancybox">
                        <img src="${os.path.relpath(plot.thumbnail, pcontext.report_dir)}"
                             title="Time-averaged Tsys for Spectral Window ${plot.parameters['spw']}"
                             data-thumbnail="${os.path.relpath(plot.thumbnail, pcontext.report_dir)}">
                        </img>
                    </a>

                    <div class="caption">
                        <h4>Spectral Window ${plot.parameters['spw']}</h4>

                        <p>Plot of time-averaged T<sub>sys</sub> for spectral
                            window ${plot.parameters['spw']} (T<sub>sys</sub>
                            window
                        ${plot.parameters['tsys_spw']}), coloured by antenna.
                        </p>
                    </div>
                </div>
            </li>
        % endfor
    </ul>
%endfor
