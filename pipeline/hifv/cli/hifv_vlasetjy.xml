<casaxml xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd file:///opt/casa/code/xmlcasa/xml/casa.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://casa.nrao.edu/schema/psetTypes.html">

<task category="pipeline" name="hifv_vlasetjy" type="function">
<shortdescription>Does an initial setjy run on the vis</shortdescription>
<description>
</description>
<input>
    <param subparam="true" name="vis" type="stringVec">
	<description>List of input visibility data</description>
	<value/>
    </param>

    <param subparam="true" name="field" type="string">
	<description>List of field names or ids</description>
        <value type="string"/>
    </param>

    <param subparam="true" name="intent" type="string">
    	<description>Observing intent of flux calibrators</description>
        <value/>
    </param>

    <param subparam="true" name="spw" type="string">
	<description>List of spectral window ids</description>
	<value/>
    </param>

    <param subparam="true" name="model" type="string">
	<description>File location for field model</description>
	<value/>
    </param>

    <param subparam="true" name="reffile" type="string">
        <description>Path to file with fluxes for non-solar system calibrators</description>
        <value/>
    </param>

    <param name="fluxdensity" type="any">
	<type>int</type><type>intVec</type><type>doubleVec</type>
	<description>Specified flux density [I,Q,U,V]; -1 will lookup values</description>
	<value type="int">-1</value>
    </param>

    <param subparam="true" name="spix" type="double">
        <description>Spectral index of fluxdensity</description>
        <value type="double">0.0</value>
    </param>

    <param subparam="true" name="reffreq" type="string">
        <description>Reference frequency for spix</description>
        <value>1GHz</value>
    </param>

    <param name="scalebychan" type="bool">
	<description>Scale the flux density on a per channel basis or else on a per spw basis</description>
	<value>True</value>
    </param>

    <param name="standard" type="variant">
	<description>Flux density standard</description>
	<value type="string"/>
    </param>

    <param name="pipelinemode" type="string">
	<description>The pipeline operating mode</description>
	<value>automatic</value>
	<allowed kind="enum">
	    <value>automatic</value>
	    <value>interactive</value>
	    <value>getinputs</value>
	</allowed>
    </param>

    <param subparam="true" name="dryrun" type="bool">
	<description>Run the task (False) or display task command (True)</description>
	<value>False</value>
    </param>

    <param subparam="true" name="acceptresults" type="bool">
	<description>Add the results into the pipeline context</description>
	<value>True</value>
    </param>

    <constraints>

	<when param="pipelinemode">
	    <equals value="automatic" type="string"/>
	    <equals value="interactive" type="string">
		<default param="vis"><value type="stringVec"/></default>
		<default param="field"><value type="string"/></default>
		<default param="intent"><value type="string"/></default>
		<default param="spw"><value type="string"/></default>
	        <default param="reffile"><value type="string"/></default>
		<default param="model"><value type="string"/></default>
		<default param="dryrun"><value type="bool">False</value></default>
		<default param="acceptresults"><value type="bool">True</value></default>
	    </equals>
	    <equals value="getinputs" type="string">
		<default param="vis"><value type="stringVec"/></default>
		<default param="field"><value type="string"/></default>
		<default param="intent"><value type="string"/></default>
		<default param="spw"><value type="string"/></default>
	        <default param="reffile"><value type="string"/></default>
		<default param="model"><value type="string"/></default>
	    </equals>
	</when>

        <when param="fluxdensity">
           <notequals value="-1" type="int">
              <default param="spix"><value type="int">0</value></default>
              <default param="reffreq"><value type="string">1GHz</value></default>
           </notequals>
        </when>


   </constraints>

</input>


<returns>any</returns>


<example>
The hifv_vlasetjy task does an initial run of setjy on the vis

Keyword arguments:

---- pipeline parameter arguments which can be set in any pipeline mode

vis -- List of visibility data files. These may be ASDMs, tar files of ASDMs,
   MSs, or tar files of MSs, If ASDM files are specified, they will be
   converted  to MS format.
   default: []
   example: vis=['X227.ms', 'asdms.tar.gz']

scalebychan -- Scale the flux density on a per channel basis or else on a per spw basis
    default: True

standard -- Flux density standard
    default: ''

fluxdensity -- Specified flux density [I,Q,U,V]; -1 will lookup values
    default: -1

pipelinemode -- The pipeline operating mode. In 'automatic' mode the pipeline
   determines the values of all context defined pipeline inputs
   automatically.  In 'interactive' mode the user can set the pipeline
   context defined parameters manually.  In 'getinputs' mode the user
   can check the settings of all pipeline parameters without running
   the task.
   default: 'automatic'.

---- pipeline context defined parameter argument which can be set only in
'interactive mode'

field -- List of field names or ids
    default: ''

intent -- Observing intent of flux calibrators
    default: ''

spw -- List of spectral window ids
    default: ''

model -- File location for field model
    default: ''

reffile -- Path to file with fluxes for non-solar system calibrators
    default: ''

---- pipeline parameter arguments which can be set when fluxdensity is not -1

spix -- Spectral index of fluxdensity
    default: 0.0

reffreq -- Reference frequency for spix
    default: '1GHz'

--- pipeline task execution modes

dryrun -- Run the commands (True) or generate the commands to be run but
   do not execute (False).
   default: True

acceptresults -- Add the results of the task to the pipeline context (True) or
   reject them (False).
   default: True

Output:

results -- If pipeline mode is 'getinputs' then None is returned. Otherwise
   the results object for the pipeline task is returned.

standard -- Flux density standard
    default: ''

Examples

1. Initial run of setjy:

   hifv_vlasetjy()


</example>
</task>
</casaxml>
