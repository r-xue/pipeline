<casaxml xmlns="http://casa.nrao.edu/schema/psetTypes.html" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd file:///opt/casa/code/xmlcasa/xml/casa.xsd">

<task category="pipeline" name="hifv_vlasetjy" type="function">
<shortdescription>Sets flux density scale and fills calibrator model to measurement set</shortdescription>
<description>
</description>
<input>
    <param name="vis" type="stringVec">
        <shortdescription>List of input visibility data</shortdescription>
        <description>List of visibility data files. These may be ASDMs, tar files of ASDMs,
                     MSes, or tar files of MSes, If ASDM files are specified, they will be
                     converted  to MS format.
                     example: vis=['X227.ms', 'asdms.tar.gz']
        </description>
        <value/>
    </param>

    <param name="field" subparam="true" type="string">
	<shortdescription>List of field names or ids.  Only can be set in pipelinemode=\'interactive\'.</shortdescription>
	<description>List of field names or ids.  Only can be set in pipelinemode='interactive'.</description>
        <value type="string"/>
    </param>

    <param name="intent" subparam="true" type="string">
    	<shortdescription>Observing intent of flux calibrators.  Only can be set in pipelinemode=\'interactive\'.</shortdescription>
    	<description>Observing intent of flux calibrators.  Only can be set in pipelinemode='interactive'.</description>
        <value/>
    </param>

    <param name="spw" subparam="true" type="string">
	<shortdescription>List of spectral window ids.  Only can be set in pipelinemode=\'interactive\'.</shortdescription>
	<description>List of spectral window ids.  Only can be set in pipelinemode='interactive'.</description>
	<value/>
    </param>

    <param name="model" subparam="true" type="string">
	<shortdescription>File location for field model.  Only can be set in pipelinemode=\'interactive\'.</shortdescription>
	<description>File location for field model.  Only can be set in pipelinemode='interactive'.</description>
	<value/>
    </param>

    <param name="reffile" subparam="true" type="string">
        <shortdescription>Path to file with fluxes for non-solar system calibrators.  Only can be set in pipelinemode=\'interactive\'</shortdescription>
        <description>Path to file with fluxes for non-solar system calibrators.  Only can be set in pipelinemode='interactive'</description>
        <value/>
    </param>

    <param name="fluxdensity" type="any">
	<type>int</type><type>intVec</type><type>doubleVec</type>
	<shortdescription>Specified flux density [I,Q,U,V]; -1 will lookup values</shortdescription>
	<description>Specified flux density [I,Q,U,V]; -1 will lookup values</description>
	<value type="int">-1</value>
    </param>

    <param name="spix" subparam="true" type="double">
        <shortdescription>Spectral index of fluxdensity.  Can be set when fluxdensity is not -1</shortdescription>
        <description>Spectral index of fluxdensity.  Can be set when fluxdensity is not -1</description>
        <value type="double">0.0</value>
    </param>

    <param name="reffreq" subparam="true" type="string">
        <shortdescription>Reference frequency for spix.  Can be set when fluxdensity is not -1</shortdescription>
        <description>Reference frequency for spix.  Can be set when fluxdensity is not -1</description>
        <value>1GHz</value>
    </param>

    <param name="scalebychan" type="bool">
	<shortdescription>Scale the flux density on a per channel basis or else on a per spw basis</shortdescription>
	<description>Scale the flux density on a per channel basis or else on a per spw basis</description>
	<value>True</value>
    </param>

    <param name="standard" type="variant">
	<shortdescription>Flux density standard</shortdescription>
	<description>Flux density standard</description>
	<value type="string"/>
    </param>

    <param name="pipelinemode" type="string">
        <shortdescription>The pipeline operating mode</shortdescription>
        <description>The pipeline operating mode. In 'automatic' mode the pipeline
                     determines the values of all context defined pipeline inputs
                     automatically.  In 'interactive' mode the user can set the pipeline
                     context defined parameters manually.  In 'getinputs' mode the user
                     can check the settings of all pipeline parameters without running
                     the task.</description>
        <value>automatic</value>
        <allowed kind="enum">
            <value>automatic</value>
            <value>interactive</value>
            <value>getinputs</value>
        </allowed>
    </param>

    <param name="dryrun" subparam="true" type="bool">
        <shortdescription>Run the task (False) or display task command (True)</shortdescription>
        <description>Run the commands (True) or generate the commands to be run but
                     do not execute (False).  This is a pipeline task execution mode.
        </description>
        <value>False</value>
    </param>

    <param name="acceptresults" subparam="true" type="bool">
        <shortdescription>Add the results into the pipeline context</shortdescription>
        <description>Add the results of the task to the pipeline context (True) or
                     reject them (False).  This is a pipeline task execution mode.
        </description>
        <value>True</value>
    </param>

    <constraints>

	<when param="pipelinemode">
	    <equals type="string" value="automatic"/>
	    <equals type="string" value="interactive">
		<default param="vis"><value type="stringVec"/></default>
		<default param="field"><value type="string"/></default>
		<default param="intent"><value type="string"/></default>
		<default param="spw"><value type="string"/></default>
	        <default param="reffile"><value type="string"/></default>
		<default param="model"><value type="string"/></default>
		<default param="dryrun"><value type="bool">False</value></default>
		<default param="acceptresults"><value type="bool">True</value></default>
	    </equals>
	    <equals type="string" value="getinputs">
		<default param="vis"><value type="stringVec"/></default>
		<default param="field"><value type="string"/></default>
		<default param="intent"><value type="string"/></default>
		<default param="spw"><value type="string"/></default>
	        <default param="reffile"><value type="string"/></default>
		<default param="model"><value type="string"/></default>
	    </equals>
	</when>

        <when param="fluxdensity">
           <notequals type="int" value="-1">
              <default param="spix"><value type="int">0</value></default>
              <default param="reffreq"><value type="string">1GHz</value></default>
           </notequals>
        </when>


   </constraints>

</input>


<returns>any</returns>


<example>
The hifv_vlasetjy task does an initial run of setjy on the vis


Output:

results -- If pipeline mode is 'getinputs' then None is returned. Otherwise
   the results object for the pipeline task is returned.

standard -- Flux density standard
    default: ''

Examples

1. Initial run of setjy:

   hifv_vlasetjy()


</example>
</task>
</casaxml>
