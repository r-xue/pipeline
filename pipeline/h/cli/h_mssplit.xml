<casaxml xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd file:///opt/casa/code/xmlcasa/xml/casa.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://casa.nrao.edu/schema/psetTypes.html">

<task category="pipeline" name="h_mssplit" type="function">
<shortdescription>Select data from calibrated MS(s) to form new MS(s) for imaging</shortdescription>
<description>Select data from calibrated MS(s) to form new MS(s) for imaging

Create new MeasurementSets for imaging from the corrected column of the input
MeasurementSet. By default all science target data is copied to the new MS. The new
MeasurementSet is not re-indexed to the selected data in the new MS will have the
same source, field, and spw names and ids as it does in the parent MS. 

If pipeline mode is 'getinputs' then None is returned. Otherwise the results object
 for the pipeline task is returned.
</description>
<input>

  <param subparam="true" name="vis" type="stringVec">
    <shortdescription>The list of input MeasurementSets</shortdescription>
    <description>The list of input MeasurementSets to be transformed. Defaults to the
      list of MeasurementSets specified in the pipeline import data task.
      default '': Split all MeasurementSets in the context. 
      Can only use with pipelinemode='interactive'
      example: 'ngc5921.ms', ['ngc5921a.ms', ngc5921b.ms', 'ngc5921c.ms']
    </description>
    <value/>
  </param>

  <param subparam="true" name="outputvis" type="stringVec">
     <shortdescription>The list of output split MeasurementSets</shortdescription>
     <description>The list of output split MeasurementSets. The output list must
      be the same length as the input list and the output names must be different
      from the input names.
      default '', The output name defaults to &lt;msrootname&gt;_split.ms
      Can only use with pipelinemode='interactive'
      example: 'ngc5921.ms', ['ngc5921a.ms', ngc5921b.ms', 'ngc5921c.ms']
    </description>
     <value/>
  </param>

  <param subparam="true" name="field" type="string">
    <description>Set of data selection field names or ids, \'\' for all</description>
    <value/>
  </param>

  <param subparam="true" name="intent" type="string">
    <shortdescription>Set of data selection intents, \'\' for all</shortdescription>
    <description>Select intents to split
      default: '', All data is selected.
      Can only use with pipelinemode='interactive'
      example: 'TARGET'
    </description>
    <value/>
  </param>

  <param subparam="true" name="spw" type="string">
    <shortdescription>Set of data selection spectral window ids \'\' for all</shortdescription>
    <description>Select spectral windows to split.
      Can only use with pipelinemode='interactive'
      default: '', All spws are selected
      example: '9', '9,13,15'
    </description>
    <value/>
  </param>

  <param subparam="true" name="datacolumn" type="string">
    <shortdescription>The data columns to process</shortdescription>
    <description>Select spectral windows to split. The standard CASA options are supported.
      Can only use with pipelinemode='interactive'
      example: 'corrected', 'model'
    </description>
    <value>data</value>
    <allowed ignorecase="True" kind="enum">
        <value>corrected</value>
        <value>data</value>
        <value>model</value>
        <value>data,model,corrected</value>
        <value>float_data</value>
        <value>lag_data</value>
        <value>float_data,data</value>
        <value>lag_data,data</value>
        <value>all</value>
    </allowed>
  </param>

  <param name="chanbin" type="int">
    <shortdescription>Channel bin width for spectral averaging</shortdescription>
    <description>The channel binning factor. 1 for no binning, otherwise 2, 4, 8, or 16.
      Can only use with pipelinemode='interactive'
      example: 2, 4
    </description>
    <value type="int">1</value>
    <allowed ignorecase="True" kind="enum">
        <value>1</value>
        <value>2</value>
        <value>4</value>
        <value>8</value>
        <value>16</value>
    </allowed>
  </param>

  <param name="timebin" type="string">
    <shortdescription>Bin width for time averaging</shortdescription>
    <description>The time binning factor. '0s' for no binning
      Can only use with pipelinemode='interactive'
      example: '10s' for 10 second binning
    </description>
    <value type="string">0s</value>
  </param>

  <param name="replace" type="bool">
    <shortdescription>Remove the parent MS and replace with the split MS</shortdescription>
    <description>If a split was performed delete the parent MS and remove it from the context.
      Can only use with pipelinemode='interactive'
    </description>
    <value type="bool">True</value>
  </param>

  <param name="pipelinemode" type="string">
    <shortdescription>The pipeline operating mode</shortdescription>
    <description>The pipeline operating mode. In 'automatic' mode the pipeline
      determines the values of all context defined pipeline inputs automatically.
      In 'interactive' mode the user can set the pipeline context defined
      parameters manually.  In 'getinputs' mode the user can check the settings
      of all pipeline parameters without running the task.
    </description>
    <value>automatic</value>
    <allowed kind="enum">
      <value>automatic</value>
      <value>interactive</value>
      <value>getinputs</value>
    </allowed>
  </param>

  <param subparam="true" name="dryrun" type="bool">
    <description>Run the task (False) or display the command(True)</description>
    <value>False</value>
  </param>

  <param subparam="true" name="acceptresults" type="bool">
    <description>Add the results to the pipeline context</description>
   <value>True</value>
  </param>


  <constraints>

    <when param="pipelinemode">
      <equals value="automatic" type="string">
      </equals>
      <equals value="interactive" type="string">
        <default param="vis"><value type="stringVec"/></default>
        <default param="outputvis"><value type="stringVec"/></default>
        <default param="field"><value type="string"/></default>
        <default param="intent"><value type="string"/></default>
        <default param="spw"><value type="string"/></default>
        <default param="datacolumn"><value type="string">data</value></default>
        <default param="dryrun"><value type="bool">False</value></default>
        <default param="acceptresults"><value type="bool">True</value></default>
      </equals>
      <equals value="getinputs" type="string">
        <default param="vis"><value type="stringVec"/></default>
        <default param="outputvis"><value type="stringVec"/></default>
        <default param="field"><value type="string"/></default>
        <default param="intent"><value type="string"/></default>
        <default param="spw"><value type="string"/></default>
        <default param="datacolumn"><value type="string">data</value></default>
      </equals>
    </when>

  </constraints>


</input>


<returns>any</returns>


<example>
Examples

1. Create a 4X channel smoothed output MS from the input MS 

   h_mssplit(chanbin=4)

</example>

</task>
</casaxml>
