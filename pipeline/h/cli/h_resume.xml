<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" ?>
<casaxml xmlns="http://casa.nrao.edu/schema/psetTypes.html"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd file:///opt/casa/code/xmlcasa/xml/casa.xsd">

<task type="function" name="h_resume" category="pipeline">
<shortdescription>Restore a save pipeline state from disk</shortdescription>
<description>
h_resume restores a name pipeline state from disk allowing a suspended 
pipeline reduction session to be resumed.
</description>
<input>
    <param type="string" name="pipelinemode">
        <description>The pipeline operating mode</description>
        <value>automatic</value>
        <allowed kind="enum">
            <value>automatic</value>
            <value>interactive</value>
            <value>getinputs</value>
        </allowed>
    </param>

    <param type="string" name="filename" subparam="true">
        <description>Filename of saved state to be restored</description>
        <value>last</value>
    </param>

    <param type="string" name="loglevel" subparam="true">
        <description>Log level for pipeline messages</description>
        <value>info</value>
        <allowed kind="enum">
            <value>trace</value>
            <value>debug</value>
            <value>info</value>
            <value>warning</value>
            <value>error</value>
            <value>critical</value>
        </allowed>
    </param>

    <param type="string" name="plotlevel" subparam="true">
		<description>Level for pipeline plots</description>
		<value>default</value>
		<allowed kind="enum">
		    <value>all</value>
		    <value>default</value>
		    <value>summary</value>
		</allowed>
    </param>

    <param type="bool" name="weblog" subparam="true">
        <description>Generate the web log</description>
        <value>True</value>
    </param>

    <constraints>
	<when param="pipelinemode">
	    <equals type="string" value="automatic">
	    </equals>
	    <equals type="string" value="interactive">
		<default param="filename"><value type="string">last</value></default>
		<default param="loglevel"><value type="string">info</value></default>
		<default param="plotlevel"><value type="string">default</value></default>
		<default param="weblog"><value type="bool">True</value></default>
	    </equals>
	    <equals type="string" value="getinputs">
		<default param="filename"><value type="string">last</value></default>
		<default param="loglevel"><value type="string">info</value></default>
		<default param="plotlevel"><value type="string">default</value></default>
		<default param="weblog"><value type="bool">True</value></default>
	    </equals>
	</when>
    </constraints>

</input>

<example>

h_resume restores a name pipeline state from disk allowing a suspended 
pipeline reduction session to be resumed.

Keyword parameters:

---- pipeline parameter arguments which can be set in any pipeline mode
pipelinemode -- The pipeline operating mode. In 'automatic' mode the pipeline
       determines the values of all context defined pipeline inputs
       automatically.  In interactive mode the user can set the pipeline
       context defined parameters manually.  In 'getinputs' mode the user
       can check the settings of all pipeline parameters without running
       the task.
       default: 'automatic'.

---- pipeline context defined parameter argument which can be set only in
'interactive mode' or 'getinputs' modes
filename -- Name of the saved pipeline state. Setting filename to
    'last' restores the most recently saved pipeline state whose
    name begins with 'context*'.
    default: 'last'
    example: filename='context.s3.2012-02-13T10:49:11'

loglevel -- Pipeline log level threshold: (debug|info|warning|error|critical).
       Log messages below this threshold will not be displayed.
       default: 'info'

plotlevel -- Pipeline plot level threshold: (all|default|summary).
       Toggle generation of detail plots in the web log. A level of 'all'
       generates all plots; 'summary' omits detail plots; 'default'
       generats all plots apart from for the hif_applycal task.
       default: 'default'

weblog -- Toggle web log generation.


Description

h_resume restores a name pipeline state from disk allowing a suspended 
pipeline reduction session to be resumed.

Issues

Examples

1. Resume the last saved session

    h_resume()

2. Resume the named saved session

    h_resume(filename='context.s3.2012-02-13T10:49:11')

</example>
</task>
</casaxml>
