<casaxml xsi:schemaLocation="http://casa.nrao.edu/schema/casa.xsd file:///opt/casa/code/xmlcasa/xml/casa.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://casa.nrao.edu/schema/psetTypes.html">

<task category="pipeline" name="hif_uvcontsub" type="function">
<shortdescription>Subtract the fitted continuum from the data</shortdescription>
<description>
Subtract the fitted continuum in the callibrary from the data.

hif_uvcontsub applies the precomputed uv continuum fit tables stored in the
pipeline context to the set of visibility files using predetermined field and
spectral window maps and default values for the interpolation schemes.

Users can interact with the pipeline calibration state using the tasks
hif_export_calstate and hif_import_calstate.

results -- If pipeline mode is 'getinputs' then None is returned. Otherwise
           the results object for the pipeline task is returned
</description>
<input>
  <param subparam="true" name="vis" type="stringVec">
    <shortdescription>List of input MeasurementSets</shortdescription>
    <description>The list of input MeasurementSets. Defaults to the list of
                 MeasurementSets specified in the h_init or hif_importdata task.
                 '': use all MeasurementSets in the context

                 Examples: 'ngc5921.ms', ['ngc5921a.ms', ngc5921b.ms', 'ngc5921c.ms']
    </description>
    <value/>
  </param>

  <param subparam="true" name="field" type="string">
    <shortdescription>Select field(s) using id(s) or name(s)</shortdescription>
    <description>The list of field names or field ids for which UV continuum
                 fits are computed. Defaults to all fields.
                 Eexamples: '3C279', '3C279, M82'
    </description>
    <value/>
  </param>

  <param subparam="true" name="intent" type="string">
    <shortdescription>Select intents</shortdescription>
    <description>A string containing a comma delimited list of intents against
                 which the selected fields are matched.
                 '': Defaults to all data with TARGET intent.
    </description>
    <value/>
  </param>

  <param subparam="true" name="spw" type="string">
    <shortdescription>Spectral window / channels for fitting the continuum</shortdescription>
    <description>The list of spectral windows and channels for which uv
                 continuum fits are computed.
                 '', Defaults to all science spectral windows.

                 Example: '11,13,15,17'
    </description>
    <value/>
  </param>

  <param name="applymode" type="string">
    <shortdescription>Calibration apply mode</shortdescription>
    <description>Calibration apply mode 
                 ''='calflagstrict': calibrate data and apply flags from
                   solutions using the strict flagging convention
                 'trial': report on flags from solutions, dataset entirely
                   unchanged
                 'flagonly': apply flags from solutions only, data not
                   calibrated
                 'calonly': calibrate data only, flags from solutions NOT
                   applied
                 'calflagstrict':
                 'flagonlystrict': same as above except flag spws for which
                   calibration is unavailable in one or more tables (instead
                   of allowing them to pass uncalibrated and unflagged)
    </description>
    <value/>
      <allowed kind="enum">
        <value/>
        <value>calflag</value>
        <value>calflagstrict</value>
        <value>trial</value>
        <value>flagonly</value>
        <value>flagonlystrict</value>
        <value>calonly</value>
      </allowed>
    </param>

  <param name="pipelinemode" type="string">
    <shortdescription>The pipeline operating mode</shortdescription>
    <description>The pipeline operating mode.
                 In 'automatic' mode the pipeline determines the values of all
                 context defined pipeline inputs automatically.
                 In 'interactive' mode the user can set the pipeline context
                 defined parameters manually.
                 In 'getinputs' mode the user can check the settings of all
                 pipeline parameters without running the task.
    </description>
    <value>automatic</value>
      <allowed kind="enum">
        <value>automatic</value>
        <value>interactive</value>
        <value>getinputs</value>
      </allowed>
  </param>

  <param subparam="true" name="dryrun" type="bool">
    <description>Run the task (False) or just display the command (True)</description>
    <value type="bool">False</value>
  </param>

  <param subparam="true" name="acceptresults" type="bool">
    <shortdescription>Add the results to the pipeline context</shortdescription>
    <description>Add the results of the task to the pipeline context (True) or
                 reject them (False).
    </description>
    <value type="bool">True</value>
  </param>

  <constraints>
    <when param="pipelinemode">
      <equals value="automatic" type="string"/>
      <equals value="interactive" type="string">
        <default param="vis"><value type="stringVec"/></default>
        <default param="field"><value type="string"/></default>
        <default param="intent"><value type="string"/></default>
        <default param="spw"><value type="string"/></default>
        <default param="dryrun"><value type="bool">False</value></default>
        <default param="acceptresults"><value type="bool">True</value></default>
      </equals>
      <equals value="getinputs" type="string">
        <default param="vis"><value type="stringVec"/></default>
        <default param="field"><value type="string"/></default>
        <default param="intent"><value type="string"/></default>
        <default param="spw"><value type="string"/></default>
      </equals>
    </when>
  </constraints>
</input>


<returns>any</returns>

<example>
</example> 

</task>
</casaxml>
