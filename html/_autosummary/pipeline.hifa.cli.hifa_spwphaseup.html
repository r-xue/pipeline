

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pipeline.hifa.cli.hifa_spwphaseup &mdash; Pipeline 
 (2025.1.1.52) 2025.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_astrorefs.css?v=4d4a2fdb" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom_theme.css?v=047bd54c" />

  
    <link rel="shortcut icon" href="../_static/favicon-16x16.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=e72a64b0"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=0729d509"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pipeline.hifa.cli.hifa_targetflag" href="pipeline.hifa.cli.hifa_targetflag.html" />
    <link rel="prev" title="pipeline.hifa.cli.hifa_session_refant" href="pipeline.hifa.cli.hifa_session_refant.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: gray" >

          
          
          <a href="../index.html" class="icon icon-home">
            Pipeline 
 (2025.1.1.52)
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/ways_to_run_the_pipeline.html">Ways to run the Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/recipes.html">Pipeline Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dependencies.html">Dependencies of <code class="docutils literal notranslate"><span class="pre">Pipeline</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timeline.html">Roadmap &amp; Branching Strategy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apisummary.html">Full APIs (autosummary)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apisummary.html#pipeline-tasks-autosummary">Pipeline Tasks (autosummary)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apisummary.html#pipeline-domain-context-autosummary">Pipeline domain/context (autosummary)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apisummary.html#pipeline-domain-infrastructure-modules-automodapi">Pipeline domain/infrastructure modules (automodapi)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apisummary.html#pipeline-h-tasks-modules-autmodapi"><code class="docutils literal notranslate"><span class="pre">pipeline.h*.tasks</span></code> modules (autmodapi)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apisummary.html#inheritance-diagrams-for-pipeline-task-inputs-results-classes">Inheritance Diagrams for Pipeline <code class="docutils literal notranslate"><span class="pre">Task</span></code>/<code class="docutils literal notranslate"><span class="pre">Inputs</span></code>/<code class="docutils literal notranslate"><span class="pre">Results</span></code> Classes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/ALMA-Imaging-Workflow.html">ALMA interferometry imaging workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/VLA-Imaging-Workflow.html">VLA interferometry imaging workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/VLASS-SE-CONT-Imaging-Workflow.html">VLASS-SE-CONT imaging workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/VLASS-SE-CUBE-Imaging-Workflow.html">VLASS-SE-CUBE imaging workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/selfcal_workflow.html">VLASS Selfcal &amp; Restore workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/comparing_pipeline_executions.html">Comparing pipeline executions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/building_the_pipeline.html">Building the pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modular.html">Run the Pipeline in a Conda environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/pipeline_tests.html">Pipeline testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/DataType_Testing.html">DataType Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/QA_scores.html">Pipeline Quality Assurance (QA) Score Class Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/DeveloperDocumentation.html">Pipeline developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develdocmd/python3_conversion_notes.html">Python 3 conversion notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../heuristics/field_parameter.html">Field parameter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../heuristics/FlaggingTasks.html">Pipeline Flagging Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/context.html">Pipeline Context and Domain Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/tier0dask.html">“Tier0” Parallelization with Dask/Futures</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: gray" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pipeline 
 (2025.1.1.52)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../apisummary.html">Full APIs (autosummary)</a></li>
          <li class="breadcrumb-item"><a href="pipeline.hifa.cli.html">pipeline.hifa.cli</a></li>
      <li class="breadcrumb-item active">pipeline.hifa.cli.hifa_spwphaseup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/pipeline.hifa.cli.hifa_spwphaseup.rst" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pipeline-hifa-cli-hifa-spwphaseup">
<h1>pipeline.hifa.cli.hifa_spwphaseup<a class="headerlink" href="#pipeline-hifa-cli-hifa-spwphaseup" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="pipeline.hifa.cli.hifa_spwphaseup">
<span class="sig-name descname"><span class="pre">hifa_spwphaseup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caltable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hm_spwmapmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxnarrowbw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minfracmaxbw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samebb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasesnr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intphasesnr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intphasesnrmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phaseupmaxsolint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bwedgefrac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hm_nantennas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxfracflagged</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minblperant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minsnr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unregister_existing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ResultsList</span><span class="p"><span class="pre">[</span></span><span class="pre">Results</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/pipeline/hifa/cli/hifa_spwphaseup.html#hifa_spwphaseup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pipeline.hifa.cli.hifa_spwphaseup" title="Link to this definition"></a></dt>
<dd><p>Compute phase calibration spw map and per spw phase offsets.</p>
<p><cite>hifa_spwphaseup</cite> computes the spw map for phase calibration, and derives
phase offsets as a function of spectral window using high signal-to-noise
calibration observations. Previous calibrations are applied on the fly.</p>
<p><cite>hifa_spwphaseup</cite> performs two functions:</p>
<ul class="simple">
<li><p>Determines the spectral window mapping or combination mode, gaintype and
solint, for each independent bandpass, amplitude, diffgain, phase and check
source, to use when solving the phaseup (phase as a function of time) in
subsequent stages (mapping mode and gaintype in <cite>hifa_gfluxscaleflag</cite>, all
parameters for <cite>hifa_gfluxscale</cite> and <cite>hifa_timegaincal</cite>), and when applying those solutions
to targets.</p></li>
<li><p>Computes the per-spectral-window phase offset table that will be applied
to the data to remove mean phase differences between the spectral windows.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">hm_spwmapmode='auto'</span></code>, then the spectral window map is computed for
each SpectralSpec and each calibrator source, using the following algorithm:</p>
<ul class="simple">
<li><p>Estimate the per-spectral-window (spw) signal-to-noise ratio based on
catalog flux densities, Tsys, number of antennas, and integration scan time.
These estimates are shown in the weblog.</p></li>
<li><p>Compute the per-spw signal-to-noise for each above mentioned intent based
on an temporary phaseup gain calibration using solint <code class="docutils literal notranslate"><span class="pre">inf</span></code> for the PHASE
and CHECK intents, and <code class="docutils literal notranslate"><span class="pre">int</span></code> otherwise. These computed signal-to-noise
values override the use of the estimated values unless none are found.</p></li>
<li><p>If SNR calculation fails, then subsequent heuristics are skipped, warnings
printed, and mapping falls back to narrow-to-wide.</p></li>
<li><p>If the signal-to-noise of all spws is greater than <code class="docutils literal notranslate"><span class="pre">phasesnr</span></code> for a
PHASE or CHECK intent, or greater than <a href="#id1"><span class="problematic" id="id2">``</span></a>intphasesnr'' for the other
intents, then if SNR is high enough to keep solint='int', then
no mapping is used (each spw is used to calibrate itself).  If the calculated
solint is &gt;'int' then mapping and combine are attempted, to favor a
short solint over keeping the spws independent.</p></li>
<li><p>If the signal-to-noise of only some spws are greater than the value of
<code class="docutils literal notranslate"><span class="pre">phasesnr</span></code> for the PHASE or CHECK intent, or <code class="docutils literal notranslate"><span class="pre">intphasesnr</span></code> for the
other intents, then each lower-SNR spw is mapped to the highest SNR spw
in the same SpectralSpec.</p></li>
<li><p>If all spws have low SNR (or all spws in a given SpectraSpec for
multi-SpectralSpec observations), then spws are combined.</p></li>
<li><p>The time solint is calculated and stored for phaseup in subsequent stages.
If <code class="docutils literal notranslate"><span class="pre">hm_spwmapmode</span></code> is not <code class="docutils literal notranslate"><span class="pre">'combine'</span></code> then there is at least one high
signal-to-noise spw, then by definition that has a solint of <code class="docutils literal notranslate"><span class="pre">'int'</span></code>. For
<code class="docutils literal notranslate"><span class="pre">hm_spwmapmode='combine'</span></code>, the computed signal-to-noise is used
in conjunction with <code class="docutils literal notranslate"><span class="pre">phasesnr</span></code> for the phase and check intents, or
<code class="docutils literal notranslate"><span class="pre">intphasesnr</span></code> for the other intents.  First the gaintype is changed
from 'G' to 'T' (combine polarization) and thereafter solint is increased
from <code class="docutils literal notranslate"><span class="pre">'int'</span></code> up to the limits of 1/2 scan for the phase or check intent, or
to the input <code class="docutils literal notranslate"><span class="pre">maxphaseupsolint</span></code> for the other intents</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">hm_spwmapmode</span></code> is <code class="docutils literal notranslate"><span class="pre">'combine'</span></code> and no SNRs are found, the PHASE and CHECK
intents will default to a solint of 1/4 scan.</p></li>
<li><p>If the intent is AMPLITUDE, and gaintype was changed from 'G' to 'T',
the signal-to-noise required to be met before increasing solint above <code class="docutils literal notranslate"><span class="pre">'int'</span></code>
is reduced to <code class="docutils literal notranslate"><span class="pre">intphasesnrmin</span></code>.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">hm_spwmapmode='combine'</span></code>, <cite>hifa_spwphaseup</cite> maps all the science windows
to a single science spectral window. For example, if the list of science
spectral windows is <code class="docutils literal notranslate"><span class="pre">[9,</span> <span class="pre">11,</span> <span class="pre">13,</span> <span class="pre">15]</span></code> then all the science spectral windows
in the data will be combined and mapped to the science window <code class="docutils literal notranslate"><span class="pre">9</span></code> in the
combined phase vs time calibration table.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">hm_spwmapmode='simple'</span></code>, a mapping from narrow science to wider
science spectral windows is computed using the following algorithm:</p>
<ul class="simple">
<li><p>Construct a list of the bandwidths of all the science spectral windows.</p></li>
<li><p>Determine the maximum bandwidth in this list as <code class="docutils literal notranslate"><span class="pre">maxbandwidth</span></code>.</p></li>
<li><p>For each science spectral window with bandwidth less than <code class="docutils literal notranslate"><span class="pre">maxbandwidth</span></code>,
construct a list of spectral windows with bandwidths greater than
<code class="docutils literal notranslate"><span class="pre">minfracmaxbw</span> <span class="pre">*</span> <span class="pre">maxbandwidth</span></code>, then select the spectral window in this
list whose band center most closely matches the band center of the narrow
spectral window, and preferentially match within the same baseband if
<code class="docutils literal notranslate"><span class="pre">samebb=True</span></code>.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">hm_spwmapmode='default'</span></code>, the spw mapping is assumed to be one to one.</p>
<p>After determining the combine and mapping parameters and time solints,
phase offsets per spectral window are determined by computing a phase only gain
calibration on the selected data, normally the high signal-to-noise bandpass
calibrator observations, using the solution interval 'inf'.</p>
<p>At the end of the task the spectral window map, solint and gaintype along
with the phase offset calibration table(s) in the pipeline are stored in
the context for use by later tasks.</p>
<p>Finally, the SNR of the calibration solutions are inspected and if the median
value on a per-spw basis does not reach specific thresholds, a warning is
issued with a reduced QA score.  For PHASE intent, blue, yellow, and red QA
result if the achieved SNR is less than 0.75, 0.5, and 0.33 times <code class="docutils literal notranslate"><span class="pre">phasesnr</span></code>,
respectively.  For BANDPASS, AMPLITUDE, and DIFFGAIN intent, QA messages are
based on 0.75, 0.5, and 0.33 times <code class="docutils literal notranslate"><span class="pre">intphasesnr</span></code> (unless <code class="docutils literal notranslate"><span class="pre">intphasesnrmin</span></code>
was used for BANDPASS or AMPLITUDE).  Finally, for CHECK intent the QA score
is always blue, but scales depending on achieved SNR relative to <code class="docutils literal notranslate"><span class="pre">phasesnr</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vis</strong> -- <p>The list of input MeasurementSets. Defaults to the list of
MeasurementSets specified in the pipeline context.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">vis=['M82A.ms',</span> <span class="pre">'M82B.ms']</span></code></p>
</p></li>
<li><p><strong>caltable</strong> -- <p>The list of output calibration tables. Defaults to the standard
pipeline naming convention.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">caltable=['M82.gcal',</span> <span class="pre">'M82B.gcal']</span></code></p>
</p></li>
<li><p><strong>field</strong> -- <p>The list of field names or field ids for which phase offset solutions
are to be computed. Defaults to all fields with the default intent.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">field='3C279'</span></code>, <code class="docutils literal notranslate"><span class="pre">field='3C279,</span> <span class="pre">M82'</span></code></p>
</p></li>
<li><p><strong>intent</strong> -- <p>A string containing a comma delimited list of intents against
which the selected fields are matched. Defaults to the BANDPASS
observations.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">intent='PHASE'</span></code></p>
</p></li>
<li><p><strong>spw</strong> -- <p>The list of spectral windows and channels for which gain solutions are
computed. Defaults to all the science spectral windows.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">spw='13,15'</span></code></p>
</p></li>
<li><p><strong>hm_spwmapmode</strong> -- <p>The spectral window mapping mode. The options are: 'auto',
'combine', 'simple', and 'default'. In 'auto' mode hifa_spwphaseup
estimates the SNR of the phase calibrator observations and uses these
estimates to choose between 'combine' mode (low SNR) and 'default' mode
(high SNR). In combine mode all spectral windows are combined and mapped to
one spectral window. In 'simple' mode narrow spectral windows are mapped to
wider ones using an algorithm defined by 'maxnarrowbw', 'minfracmaxbw', and
'samebb'. In 'default' mode the spectral window map defaults to the
standard one to one mapping.</p>
<p>Example:`` hm_spwmapmode='combine'``</p>
</p></li>
<li><p><strong>maxnarrowbw</strong> -- <p>The maximum bandwidth defining narrow spectral windows. Values
must be in CASA compatible frequency units.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">maxnarrowbw=''</span></code></p>
</p></li>
<li><p><strong>minfracmaxbw</strong> -- <p>The minimum fraction of the maximum bandwidth in the set of
spws to use for matching.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">minfracmaxbw=0.75</span></code></p>
</p></li>
<li><p><strong>samebb</strong> -- <p>Match within the same baseband if possible.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">samebb=False</span></code></p>
</p></li>
<li><p><strong>phasesnr</strong> -- <p>The required phase gaincal solution signal-to-noise.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">phasesnr=20.0</span></code></p>
</p></li>
<li><p><strong>intphasesnr</strong> -- <p>The required solint='int' phase gaincal solution signal-to-noise.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">intphasesnr=4.0</span></code></p>
</p></li>
<li><p><strong>intphasesnrmin</strong> -- <p>The required solint='int' phase gaincal solution
signal-to-noise for fields that cover the AMPLITUDE calibrator
intent.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">intphasesnrmin=3.0</span></code></p>
</p></li>
<li><p><strong>phaseupmaxsolint</strong> -- <p>Maximum phase correction solution interval (in
seconds) allowed in very low-SNR cases. Used only when
<code class="docutils literal notranslate"><span class="pre">hm_spwmapmode</span></code> = 'auto' or 'combine'.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">phaseupmaxsolint=60.0</span></code></p>
</p></li>
<li><p><strong>bwedgefrac</strong> -- <p>The fraction of the bandwidth edges that is flagged.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">bwedgefrac=0.0</span></code></p>
</p></li>
<li><p><strong>hm_nantennas</strong> -- <p>The heuristics for determines the number of antennas to use
in the signal-to-noise estimate. The options are 'all' and 'unflagged'.
The 'unflagged' options is not currently supported.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">hm_nantennas='unflagged'</span></code></p>
</p></li>
<li><p><strong>maxfracflagged</strong> -- <p>The maximum fraction of an antenna that can be flagged
before it is excluded from the signal-to-noise estimate.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">maxfracflagged=0.80</span></code></p>
</p></li>
<li><p><strong>combine</strong> -- <p>Data axes to combine for solving. Options are <code class="docutils literal notranslate"><span class="pre">''</span></code>, <code class="docutils literal notranslate"><span class="pre">'scan'</span></code>, <code class="docutils literal notranslate"><span class="pre">'spw'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'field'</span></code> or any comma-separated combination.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">combine=''</span></code></p>
</p></li>
<li><p><strong>refant</strong> -- <p>Reference antenna name(s) in priority order. Defaults to most recent
values set in the pipeline context.  If no reference antenna is defined in
the pipeline context the CASA defaults are used.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">refant='DV01'</span></code>, <code class="docutils literal notranslate"><span class="pre">refant='DV05,DV07'</span></code></p>
</p></li>
<li><p><strong>minblperant</strong> -- <p>Minimum number of baselines required per antenna for each solve.
Antennas with fewer baselines are excluded from solutions.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">minblperant=2</span></code></p>
</p></li>
<li><p><strong>minsnr</strong> -- Solutions below this SNR are rejected.</p></li>
<li><p><strong>unregister_existing</strong> -- Unregister previous spwphaseup calibrations from the pipeline context
before registering the new calibrations from this task.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The results object for the pipeline task is returned.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>1. Compute the default spectral window map and the per spectral window phase
offsets:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hifa_spwphaseup</span><span class="p">()</span>
</pre></div>
</div>
<p>2. Compute the default spectral window map and the per spectral window phase
offsets set the spectral window mapping mode to 'combine':</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hifa_spwphaseup</span><span class="p">(</span><span class="n">hm_spwmapmode</span><span class="o">=</span><span class="s1">&#39;combine&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pipeline.hifa.cli.hifa_session_refant.html" class="btn btn-neutral float-left" title="pipeline.hifa.cli.hifa_session_refant" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pipeline.hifa.cli.hifa_targetflag.html" class="btn btn-neutral float-right" title="pipeline.hifa.cli.hifa_targetflag" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020–2025, Pipeline Dev. Team, build: 2025.1.1.52+229-g1a24a1a43c-update-docs-build-and-packaging-setup.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>